用PUPPY改，可在虚拟机改或实体改


【引子】 
近来ぷ苡腥嗽谖湿と绾斡ROS来做一台简单的WEB服务器,我也提供了一些思路さ都
太过于复杂つ岩允涤谩 
 
刚才ね纺岳锿蝗涣楣庖簧联グHTTP目录链接到FTP目录下げ痪涂梢院芊奖愕男薷牧
吗 
 

【试验】 
马上行动测试一下: 

1,关闭ROS,我的是学习用的た梢凰倒鼐凸鬲し裨蚓鸵找一个空闲时间了。 

2,关闭另一台Linux机,同样是学习用的っ皇裁垂寺恰 

3,打开机箱ぐROS的硬盘拔下来挂在Linux机的IDE3上ぜ吹诙硬盘控制器的主硬盘上,
当然挂其他几个位置也没关系的。 

4,启动Linux,我的是RHEL AS4, 其他的版本也没什么关系ぶ灰能支持ETX3文件系统就
可以了つ壳俺＜的LINUX基本上都没问题。 

5,以root登陆す以ROS系统び萌缦旅令: 
  
mount /dev/hdc1 /mnt 
  
说明:成功后そ入/mnt目录就是ROS的东西了 
      
/dev/hdc1,其中的hd表示IDE硬盘,c表示第3位置上的硬盘(a:1,b:2,c:3,d:4)1是指该
硬盘上的第一个分区,我的ROS只有一个分区に以是1。 
     
 /mnt 是系统上的一个空目录さ比荒阋部梢杂闷渌空目录 
6,进入ROS文件系统 
  
cd /mnt 
  
由于ROS是和个性化的系统げ恢道有没有链接命令は炔檎乙幌:
 
  find . -name ln -print 
 
 显示 /bin/ln 
  
找到了び邢贰Ｈ缓笤谄舳的时候加上一条链接命令: 
  
[ ! -f /var/pckg/http ] && ln -s /home/web /var/pckg/http 
  
用vi来编辑启动文件: 
  
vi /mnt/etc/rc.d/rc.sysinit 

移到最后ぴexit 之前加入下面的一行: 
 
 [ ! -f /var/pckg/http ] && ln -s /home/web /var/pckg/http
 
  然后保存文件
 
  说明:/var/pckg目录是ROS的ftp目录,/home/web是ROS的http目录 

7,卸载ROS文件系统ぴ俟乇Linux
 
  cd; umount /mnt; halt 

8,把ROS硬盘重新装回去た机

9,在Windows上打开winbox-->files,激动人心的画面就出来了ざ嗔http目录じ媚柯枷碌
文件就是ROS的WEB文件ば薷牧烁媚柯枷碌奈募ぞ褪切薷牧WEB文件。 
  接下来的就简单了WEB页面自己想怎么改就怎么改了ぶ饕澄募是index2.html。 
   

【关键】 

说了那么多て涫倒丶就在一点ln -s /home/web /var/pckg/http 
 

【用途】 

ROS上的WEB,只能做一些静态页面ひ趁娓新需要手动完成な屎嫌谧龉愀嬉趁妾な状巫
向的页面DNS错误的转向页面等要求不高的不想另建一个web服务器的应用. 
另外ぬ峁┒态页面的思路す┯行巳さ牟慰吉タ梢杂CGI实现, CGI目录也可以用ln -s
的方式放在FTP上以便更新CGI程序用C语言在别的Linux上编写,编译后FTP更新。 
 

【警告】 

该方法需要有Linux/Unix的基本知识げ灰随意改变ROS的其他系统文件。 
我在ROS 2.7.27上测试成功,原则上其他版本也没问题さ没测试过,不肯定。 
对于测试不成功以及产生的其他问题け救瞬桓涸鹑巍 
由于改动了ROS系统ひ虼舜嬖诜缦摘で肷饔谩 



建立/home/web/web目录
若有重复连接，请用以下命令
 [ ! -d /var/pckg/web ] && ln -s /home/web/web /var/pckg/web